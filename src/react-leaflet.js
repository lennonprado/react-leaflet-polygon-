import React, { Component } from 'react';
import { Map, TileLayer, Polygon, Marker, Popup } from 'react-leaflet';
import 'leaflet/dist/leaflet.css';
import './react-leaflet.css';
import {MarkerIcon} from './react-leaflet-icon.js';

/*Creamos un nuevo Marker para que cada vez que aparezca un
nuevo marker, aparezca el popup*/
const CustomMarker = props => {
  const initMarker = ref => {
    if (ref) {
      ref.leafletElement.openPopup()
    }
  }
  return <Marker ref={initMarker} {...props}/>
}

class MapView extends Component {


  
  /*Funci√≥n para capturar la latitud y la longitud*/
  handleClick(e){
    this.setState({ currentLocation: e.latlng });
  }

  constructor(props) {
    super(props);
    this.state = {
      currentLocation: { lat: 37.31808, lng: -59.126074 },
      zoom: 12,
    }
    this.handleClick = this.handleClick.bind(this);
  }

  render() {

    const center = [-37.31808, -59.126074]


// corredor suroeste

const suroeste = [
[-37.2977316534506, -59.17400402962496],
[-37.31245338602302, -59.19219758476178],
[-37.30901599239742, -59.19655386687831],
[-37.316440239208994, -59.20533800284704],
[-37.32520055568216, -59.19445367920355],
[-37.319746608841946, -59.19215961704781],
[-37.31606959945667, -59.18758835432753],
[-37.31968020212892, -59.18293105840897],
[-37.32335752091176, -59.178253285886996],
[-37.32689504280557, -59.173500411512606],
[-37.328652501312746, -59.171268813612215],
[-37.33390249622355, -59.16151166492271],
[-37.33514796168014, -59.156129376523886],
[-37.33484512780142, -59.155432002180014],
[-37.33345890079979, -59.15460588180343],
[-37.33286999569221, -59.15380743648884],
[-37.3221975851173, -59.160227673991514],
[-37.31876384820048, -59.1513501475395],
[-37.31640887583317, -59.152809269243605],
[-37.31562386864765, -59.1508458922447]
]



// pet villa gaucho    
const pet0 =[ -37.31318960896149, -59.109185368921935]
const villaGaucho = 
[
  [-37.309612389684105, -59.11596289730579],
  [-37.29701342778675, -59.10050978110521],
  [-37.30420533703343, -59.0912780428628],
  [-37.30235928665538, -59.08909754382089],
  [-37.30598349164323, -59.084388194673764],
  [-37.320489073890705, -59.10198856923107]
]

// pet villa aguirre san cayetano
const pet1 = [-37.29744842639517, -59.12953253411478]

const villaAguirre = [
  [-37.30960227180927, -59.11594105739695],
  [-37.29246933427574, -59.09493133422103],
  [-37.28555278475734, -59.104387935897755],
  [-37.28107522519523, -59.09846857335095],
  [-37.28032882714854, -59.09825936104779],
  [-37.27669469121387, -59.09813266106814],
  [-37.27399263525317, -59.10175364323825],
  [-37.27505127220882, -59.10341661282748],
  [-37.28099302270028, -59.11071222134799],
  [-37.282021888792855, -59.10945542865267],
  [-37.28980235102924, -59.11896701063071],
  [-37.28245753898012, -59.12827743280154],
  [-37.29291605433664, -59.14090409979106],
  [-37.299046307144216, -59.130027294158936]
]

// pet Cerro Leones
const pet2 = [-37.312238991507094, -59.20083802579188]
const movedizaCerroLeones = [
[-37.297728121163885, -59.17404049418334],
[-37.30925068008719, -59.188208331125814],
[-37.31247627026633, -59.19219153371022],
[-37.30901611789897, -59.196523726734696],
[-37.316534915178615, -59.205414210744856],
[-37.3216713816824, -59.198923264928816],
[-37.32519503358567, -59.194460069128034],
[-37.31954762070493, -59.19179975410854],
[-37.312363092598275, -59.18292700668727],
[-37.31606301440718, -59.178276539033526],
[-37.30488437056784, -59.1647099258362]
]


// pet villa laza
const pet3 =[-37.32180040900107, -59.165711402893066]
const villaLaza = [
  [-37.317558905464516, -59.1622019062102],
  [-37.31923979147315, -59.160184885031],
  [-37.31644590043877, -59.152813220911774],
  [-37.318775106890186, -59.151390998947676],
  [-37.32333667468828, -59.16317172061013],
  [-37.325576865168465, -59.16173879446011],
  [-37.32869949770908, -59.16655391810016],
  [-37.32499273715838, -59.17129506183535]
]

// pet villa cordobita
const pet4 = [-37.33175660292415, -59.160495207068166]
const villaCordobita =  [
  [-37.33288091364117, -59.153812121274],
  [-37.33328932324286, -59.15421311152173],
  [-37.33346100390081, -59.15463824165059],
  [-37.33480884338443, -59.15541071784688],
  [-37.33501997427723, -59.15572453630162],
  [-37.335162860504326, -59.1561349142809],
  [-37.33390091422145, -59.161487387219786],
  [-37.33240920759978, -59.16082701142462],
  [-37.332085035526944, -59.1608055537525],
  [-37.33176939295401, -59.15990969594153],
  [-37.33181631287985, -59.15818235333594],
  [-37.33176086205525, -59.157270402270875],
  [-37.33178218930033, -59.1562297051731],
  [-37.33171394209478, -59.154534549075684]
]


const tunitas = [
  [-37.336615818739865, -59.14802366468069],
  [-37.33778504630711, -59.14733966293004],
  [-37.340037461046194, -59.15316095331065],
  [-37.34157078475891, -59.1522366110914],
  [-37.34560670558473, -59.14939644168429],
  [-37.34484759167018, -59.146735690341515],
  [-37.34264701429714, -59.14092980788205],
  [-37.3425361285976, -59.14080910847638],
  [-37.335518408469056, -59.145092237024954]
]




//Este poligono incluye Villa Mailin; Provincias Unidas; Barrio Educadores; Sector 125 Viviendas - Barrio Evita
const mailin = [
  [-36.92052324138989, -60.29960978965947],
  [-36.924605963825925, -60.304716715623826],
  [-36.91921946884829, -60.311229119111985],
  [-36.9211751193015, -60.313728937913865],
  [-36.91620012053847, -60.32001603584477],
  [-36.91009243692721, -60.31239856224248]
]

//Villa Aurora 

const aurora = [
  [-36.92560710850992, -60.293495971156986],
  [-36.92166167579863, -60.288303214504154],
  [-36.91754448486858, -60.28345378060523],
  [-36.91253493615519, -60.289504844142826],
  [-36.92063239890614, -60.299547034694584]
]


const magdalena = [
  [-36.916429374070624, -60.294783431484134],
  [-36.91238052702943, -60.289783793880375],
  [-36.90984130990593, -60.29298098702613],
  [-36.9138388229749, -60.29789479394141]
]


const piazza = [
  [-36.78410711271529, -59.850697125506045],
  [-36.79210673606648, -59.84032301469369],
  [-36.776818873475214, -59.82236135525022],
  [-36.76892369317814, -59.83263521172822]
]

const sanfrancisco = [
  [-36.78031088450737, -59.88343818640936],
  [-36.77721729757628, -59.87981183982122],
  [-36.77620326135633, -59.88204343772161],
  [-36.77008438526682, -59.87740858054388],
  [-36.77183759631137, -59.8751072452091],
  [-36.77017892217907, -59.87318141913641],
  [-36.76907455188612, -59.87436159110296],
  [-36.76806255658129, -59.87564905143011],
  [-36.766706762745244, -59.87740858054388],
  [-36.7762782560273, -59.888794798906396]
]

const pedroburgos = [
[-36.76058171025776, -59.843782416766494],
[-36.762455470419496, -59.84142207283339],
[-36.76395100760572, -59.843020669406265],
[-36.76530899886627, -59.84483384270033],
[-36.76346968847556, -59.847258559649795],
[-36.76202571296019, -59.8456921495851]
]
//const redOptions = { color: 'red' }


    //const { center, zoom } = this.state;
    return (
      <Map center={center} zoom={13} onClick={this.handleClick}>
        <TileLayer
          url="https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"
          attribution="&copy; <a href=&quot;http://osm.org/copyright&quot;>OpenStreetMap</a> contributors"
        />



<Polygon positions={suroeste} />

        <Polygon positions={villaGaucho} />
        <Polygon positions={villaAguirre} />
        
        <Polygon positions={mailin} />
        <Polygon positions={aurora} />
        <Polygon positions={magdalena} />

        <Polygon positions={piazza} />
        <Polygon positions={sanfrancisco} />
        <Polygon positions={pedroburgos} />
        
        </Map>
    );
  }
}

export default MapView;